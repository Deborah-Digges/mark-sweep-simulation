<h2 id="simulation-of-a-mark-sweep-garbage-collector">Simulation of A Mark Sweep Garbage Collector</h2>
<p>A high level implementation of a mark-sweep garbage collector.</p>
<p>A model of a <em>stack based VM</em> is created where the stack holds references to all objects ever allocated. A <em>freeList</em> of memory is maintained from which all allocations are made.</p>
<p>The parameters of the VM that can be configured are:</p>
<ol style="list-style-type: decimal">
<li>The threshold for GC invocation - The minimum number of objects needed to trigger a GC.</li>
<li>The heap size - The number of blocks available to the VM for allocation initially.</li>
</ol>
<p>These parameters can be configured via the VM's constructor <em>VM(threshold, heapSize)</em>. The VM supports interfaces to push and pop objects from the stack.</p>
<p>The <em>reachable</em> objects are those which, starting from those on the stack, can be traced by following references. All unreachable objects are deemed <em>garbage</em> and are collected by the GC upon it's next invocation. Once an object is popped from the VM's stack it is unreachable and becomes garbage.</p>
<h2 id="gc-invocation">GC Invocation</h2>
<p>The GC is invoked in one of two situations:</p>
<ol style="list-style-type: decimal">
<li>The number of objects allocated has reached the threshold for GC invocation.</li>
<li>The heap is exhausted which causes the GC to be invoked in an attempt to free memory for a new allocation.</li>
</ol>
<h2 id="directory-structure">Directory Structure</h2>
<ul>
<li>01 - Mark phase is made recursive and uses the <a href="http://github.com/Deborah-Digges/mark-sweep-simulation/blob/master/01-marksweep-simple/vm.cpp/#L151-174">implicit stack of recursion for finding reachable objects</a></li>
<li>02 - Mark phase uses an <a href="http://github.com/Deborah-Digges/mark-sweep-simulation/blob/master/02-marksweep-Explicit-Stack/vm.cpp/#L151-192">explicit stack for finding reachable objects</a></li>
</ul>
<h2 id="build-run">Build &amp; Run</h2>
<p><em>make</em><br/> <em>./marksweep</em></p>
